---
/**
 * Privacy Policy Page
 */
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/global/Header.astro';
import Footer from '../components/global/Footer.astro';

const lastUpdated = 'December 2025';
---

<BaseLayout
  title="Privacy Policy"
  description="Privacy policy for The Pizza Dough Formula. Learn how we handle your data and protect your privacy."
>
  <Header />

  <main class="flex-grow">
    <article class="max-w-3xl mx-auto px-4 py-12 md:py-16">
      <h1 class="font-heading text-4xl font-bold text-text mb-2">
        Privacy Policy
      </h1>
      <p class="text-text-muted mb-8">Last updated: {lastUpdated}</p>

      <div class="prose prose-lg text-text-muted space-y-6">
        <p class="text-xl leading-relaxed">
          Your privacy matters to us. This policy explains what information we collect,
          how we use it, and your choices regarding your data.
        </p>

        <h2 class="font-heading text-2xl font-semibold text-text mt-8 mb-4">Information We Collect</h2>

        <h3 class="font-heading text-xl font-semibold text-text mt-6 mb-3">Calculator Data</h3>
        <p>
          All calculations are performed locally in your browser. We do not store your
          recipes, ingredient preferences, or calculator settings on our servers.
        </p>

        <h3 class="font-heading text-xl font-semibold text-text mt-6 mb-3">Local Storage</h3>
        <p>
          We use your browser's localStorage to save preferences like:
        </p>
        <ul class="list-disc list-inside space-y-2">
          <li>Unit preference (grams/ounces)</li>
          <li>Emergency timer state</li>
        </ul>
        <p>
          This data stays on your device and is never transmitted to us.
        </p>

        <h3 class="font-heading text-xl font-semibold text-text mt-6 mb-3">Email Newsletter</h3>
        <p>
          If you subscribe to our newsletter, we collect your email address and record your
          consent timestamp. We use this only to send you pizza tips, new features, and
          occasional updates. You can unsubscribe at any time.
        </p>
        <p class="mt-2">
          <strong>Data retention:</strong> Email addresses are retained until you unsubscribe
          or request deletion.
        </p>

        <h3 class="font-heading text-xl font-semibold text-text mt-6 mb-3">Analytics</h3>
        <p>
          We use Google Analytics to understand how visitors use our site. This includes:
        </p>
        <ul class="list-disc list-inside space-y-2">
          <li>Pages visited</li>
          <li>Time spent on site</li>
          <li>Device and browser information</li>
          <li>General geographic location (country/region)</li>
        </ul>
        <p>
          This data is anonymized and aggregated. We do not track individual users
          or sell this information.
        </p>

        <h2 class="font-heading text-2xl font-semibold text-text mt-8 mb-4">Cookies</h2>
        <p>
          We use cookies to improve your experience. Analytics cookies are only loaded
          after you give consent via our cookie banner.
        </p>

        <div class="overflow-x-auto mt-4">
          <table class="w-full text-sm border border-border rounded-lg overflow-hidden">
            <thead class="bg-cream">
              <tr>
                <th class="px-4 py-2 text-left font-semibold text-text">Cookie</th>
                <th class="px-4 py-2 text-left font-semibold text-text">Purpose</th>
                <th class="px-4 py-2 text-left font-semibold text-text">Duration</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-t border-border">
                <td class="px-4 py-2 font-mono text-xs">cookieConsent</td>
                <td class="px-4 py-2">Stores your cookie preference</td>
                <td class="px-4 py-2">1 year</td>
              </tr>
              <tr class="border-t border-border bg-cream/30">
                <td class="px-4 py-2 font-mono text-xs">_ga</td>
                <td class="px-4 py-2">Google Analytics visitor ID</td>
                <td class="px-4 py-2">2 years</td>
              </tr>
              <tr class="border-t border-border">
                <td class="px-4 py-2 font-mono text-xs">_gid</td>
                <td class="px-4 py-2">Google Analytics session ID</td>
                <td class="px-4 py-2">24 hours</td>
              </tr>
            </tbody>
          </table>
        </div>

        <p class="mt-4">
          You can manage or withdraw cookie consent at any time by clearing your browser's
          localStorage and refreshing the page.
        </p>

        <h2 class="font-heading text-2xl font-semibold text-text mt-8 mb-4">Third-Party Services</h2>
        <ul class="list-disc list-inside space-y-2">
          <li>
            <strong>Google Analytics</strong> - Website analytics
            (<a href="https://policies.google.com/privacy" target="_blank" rel="noopener noreferrer" class="text-primary hover:underline">Privacy Policy</a>)
          </li>
          <li>
            <strong>Cloudflare</strong> - Website hosting and CDN
            (<a href="https://www.cloudflare.com/privacy/" target="_blank" rel="noopener noreferrer" class="text-primary hover:underline">Privacy Policy</a>)
          </li>
          <li>
            <strong>Amazon</strong> - Affiliate product links
            (<a href="https://www.amazon.com/gp/help/customer/display.html?nodeId=468496" target="_blank" rel="noopener noreferrer" class="text-primary hover:underline">Privacy Policy</a>)
          </li>
        </ul>

        <h2 class="font-heading text-2xl font-semibold text-text mt-8 mb-4">Your Rights</h2>
        <p>You have the right to:</p>
        <ul class="list-disc list-inside space-y-2">
          <li>Request a copy of any personal data we hold about you</li>
          <li>Request deletion of your personal data</li>
          <li>Unsubscribe from our newsletter at any time</li>
          <li>Clear local storage data through your browser settings</li>
        </ul>

        <h2 class="font-heading text-2xl font-semibold text-text mt-8 mb-4">Children's Privacy</h2>
        <p>
          This site is not directed at children under 13. We do not knowingly collect
          personal information from children.
        </p>

        <h2 class="font-heading text-2xl font-semibold text-text mt-8 mb-4">Changes to This Policy</h2>
        <p>
          We may update this privacy policy from time to time. Significant changes will
          be noted on this page with an updated revision date.
        </p>

        <h2 class="font-heading text-2xl font-semibold text-text mt-8 mb-4">Contact</h2>
        <p>
          If you have questions about this privacy policy, want to exercise your data rights,
          or request deletion of your data, please contact us at:
        </p>
        <p class="mt-2">
          <a href="mailto:contact@thepizzadoughformula.com" class="text-primary hover:underline font-medium">
            contact@thepizzadoughformula.com
          </a>
        </p>
      </div>
    </article>
  </main>

  <Footer />
</BaseLayout>
